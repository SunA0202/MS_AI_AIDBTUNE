# AI DB TUNE
# AI 기반 SQL 및 테이블 튜닝 웹 프로젝트

본 프로젝트는 Azure AI 기반 SQL 성능 최적화와 테이블 구조 개선을 지원하는 웹 애플리케이션입니다.

---
## 배경 및 문제

시스템 운영 기간이 길어질수록 새로운 기능 추가로 테이블 및 컬럼 또는 인덱스 생성되지만  
사용되지 않는 기능에 대한 컬럼 삭제, 인덱스 삭제는 이루어지지 않아 DB가 점점 무거워짐  

스키마 변경 이력에 대해 잘 알고 있는 개발자의 경우에는 쿼리 개발시 어떤 테이블, 어떤 컬럼을 써야할지 잘 알고 있지만  
새로운 개발자의 경우 짧은 시간 내 거대한 DB 스키마를 파악하기 어려움  
그렇다고 아무 컬럼이나 삭제하게 되면 운영하는 시스템에 영향도 발생  

해당 문제 개선을 위해  
DB를 사용하는 AP 수행 속도 및 개발 속도 최적화를 위한  
쿼리 수행 이력 기반의 DB 스키마 튜닝 기능 구현  

---

## 주요 기능

### 1. 전체 ERD 실시간 조회 및 화면 출력
- 데이터베이스에 존재하는 모든 테이블과 관계(외래키)를 실시간으로 조회합니다.
- Streamlit 기반의 인터랙티브 그래프로 ERD를 시각화하여, 복잡한 테이블 구조를 한눈에 파악할 수 있습니다.

### 2. 지정한 날짜 범위 내 쿼리 이력 및 현재 DB 스키마 조회
- 사용자가 지정한 기간 동안 실행된 쿼리 이력을 수집하여 분석합니다.
- 현재 데이터베이스 스키마와 대조하여 테이블 구조의 문제점을 식별하고,
- AI 기반으로 최적화 가능한 테이블 변경 사항과 DDL 쿼리를 자동으로 제안합니다.

### 3. 실시간 SQL 튜닝 및 최적화
- 현재 스키마 정보를 바탕으로 사용자가 입력한 SQL 쿼리의 실행 계획을 분석합니다.
- OpenAI API를 활용하여 SQL 성능 개선을 위한 튜닝 제안을 생성합니다.
- 최적화된 SQL 쿼리를 제시하여 성능 향상을 지원합니다.

---
## 설계도
![image](https://github.com/user-attachments/assets/f1aa4dd0-295c-4280-a876-39af76118784)


---
### 🎯 기대 효과 

- 대량 데이터 작업 관련 서비스 지연률 감소로 서비스 운영 안정도 향상 

- 서비스 운영 기반 데이터베이스 아키텍쳐 관리 

- 쿼리 개발 속도 감소 및 쿼리 가독성 증가

---

## 기술 스택

- Python 3.x  
- Streamlit (웹 UI)  
- OpenAI API (AI 기반 분석 및 튜닝)  
- Azure SQL Database (데이터 저장 및 쿼리 로그)  
- pyodbc (DB 연결)  
- streamlit-agraph (ERD 시각화)  
- matplotlib, pandas 등 데이터 처리 및 시각화 라이브러리

---
